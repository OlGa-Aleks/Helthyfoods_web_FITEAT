@using Helthy_Shop.Data.Models

@model Helthy_Shop.Data.ViewModels.DishesListViewModel
@{
    ViewData["Title"] = "Каталог";
}

<!-- Основной контейнер -->
<div class="container-fluid ">
    <div class="row d-flex">

        <!-- Фильтры -->
        <div class="col-md-3">
            <div class="menu-filters">

                <!-- Прием пищи -->
                <div class="filter-container">
                    <h3>Прием пищи:</h3>
                    <div class="meal-filters">
                        <label><input type="checkbox" name="meal" value="Завтрак"> Завтрак</label>
                        <label><input type="checkbox" name="meal" value="Обед"> Обед</label>
                        <label><input type="checkbox" name="meal" value="Ужин"> Ужин</label>
                    </div>
                </div>

                <!-- Калории -->
                <div class="filter-container">
                    <h3>Количество калорий в порции:</h3>
                    <div class="calories-inputs">
                        <label>
                            Мин:
                            <input type="number" id="min-calories" name="min-calories" min="0" max="500" value="0">
                        </label>
                        <label>
                            Макс:
                            <input type="number" id="max-calories" name="max-calories" min="0" max="500" value="500">
                        </label>
                        <span class="kcal-label">ккал</span>
                    </div>
                </div>

                <!-- Диеты -->
                <div class="filter-container">
                    <h3>Диеты:</h3>
                    <div class="diet-filters">
                        @if (Model.AllDiets != null)
                        {
                            foreach (var diet in Model.AllDiets)
                            {
                                <label class="diet-label">
                                    <input type="checkbox" name="tags" value="@diet.dietName.ToLower().Replace(" ", "-")">
                                    @diet.dietName
                                </label>
                            }
                        }
                    </div>
                </div>

                <!-- Цена -->
                <div class="filter-container">
                    <h3>Цена</h3>
                    <div class="price-range">
                        <input type="range" id="price-min" min="0" max="2000" value="0">
                        <input type="range" id="price-max" min="0" max="2000" value="2000">
                    </div>
                    <p class="price-range-display">Диапазон цены: <span id="price-range-display">0 ₽ - 2000 ₽</span></p>
                </div>


                <!-- Кнопка Применить -->
                <button class="apply-filters-btn">Применить</button>
            </div>
        </div>

        <!-- Карточки товаров -->
        <div class="col-md-9">
            <div id="dishes-container">
                <div class="row" id="dishes-row">
                    @foreach (var dish in Model.allDishs.Take(6))
                    {
                        <partial name="_DishesPartial" model="new List<Dish> { dish }" />
                    }
                </div>
            </div>

            <!-- Контейнер для кнопки, который не обновляется -->
            <div class="text-center mt-4" style="width: 100%;">
                <button id="load-more" class="btn btn-primary" data-offset="6">Загрузить ещё</button>
            </div>

        </div>

    </div>
</div>




